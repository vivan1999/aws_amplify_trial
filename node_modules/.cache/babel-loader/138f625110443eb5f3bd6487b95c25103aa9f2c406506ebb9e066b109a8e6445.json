{"ast":null,"code":"import { proxyCustomElement, HTMLElement, createEvent, h, Host } from '@stencil/core/internal/client';\nimport { a as anime } from './anime.es.js';\nimport { b as a11yHostAttributes, a as a11yBoolean } from './a11y.js';\nimport { A as Animation } from './animation.js';\nconst modalCss = \"::backdrop{--ix-dialog-backdrop:var(--theme-color-lightbox, #0000008c)}:focus-visible{outline:none !important}:host dialog{margin:0;left:50%}:host dialog::backdrop{-webkit-backdrop-filter:blur(2.7182817459px);backdrop-filter:blur(2.7182817459px)}:host .modal{display:flex;flex-direction:column;position:relative;border:none;border-radius:var(--theme-default-border-radius);background:var(--theme-modal--background);box-shadow:var(--theme-shadow-4);color:var(--theme-color-std-text);overflow:visible;max-height:80vh;pointer-events:all}:host .modal-size-360{width:22.5rem}:host .modal-size-480{width:30rem}:host .modal-size-600{width:37.5rem}:host .modal-size-720{width:45rem}:host .modal-size-840{width:52.5rem}:host .modal-size-full-width{width:95%}:host .modal-size-full-screen{left:0px !important;top:0px !important;transform:none !important;width:calc(100% - 28px);min-width:calc(100% - 28px);max-width:calc(100% - 28px);height:calc(100% - 28px);min-height:calc(100% - 28px);max-height:calc(100% - 28px)}:host .dialog-backdrop{display:block;position:fixed;width:100vw;height:100vh;top:0px;left:0px;pointer-events:none}:host ::slotted(ix-modal-footer){margin-top:auto}:host(.align-center) dialog{margin:0;left:50%;top:50%}:host(.no-backdrop) dialog::backdrop{background-color:transparent !important;-webkit-backdrop-filter:none !important;backdrop-filter:none !important}:host(.with-icon) ::slotted(ix-modal-footer),:host(.with-icon) ::slotted(ix-modal-content){margin-left:2.5rem}\";\nconst Modal = /*@__PURE__*/proxyCustomElement(class Modal extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.dialogClose = createEvent(this, \"dialogClose\", 7);\n    this.dialogDismiss = createEvent(this, \"dialogDismiss\", 7);\n    this.ariaAttributes = {};\n    this.size = '360';\n    this.animation = true;\n    this.backdrop = true;\n    this.closeOnBackdropClick = false;\n    this.beforeDismiss = undefined;\n    this.centered = false;\n    this.keyboard = true;\n  }\n  get dialog() {\n    return this.hostElement.shadowRoot.querySelector('dialog');\n  }\n  slideInModal() {\n    const duration = this.animation ? Animation.mediumTime : 0;\n    let transformY = this.centered ? '-50%' : 40;\n    anime({\n      targets: this.dialog,\n      duration,\n      opacity: [0, 1],\n      translateY: [0, transformY],\n      translateX: ['-50%', '-50%'],\n      easing: 'easeOutSine'\n    });\n  }\n  slideOutModal(completeCallback) {\n    const duration = this.animation ? Animation.mediumTime : 0;\n    let transformY = this.centered ? '-50%' : 40;\n    anime({\n      targets: this.dialog,\n      duration,\n      opacity: [1, 0],\n      translateY: [transformY, 0],\n      translateX: ['-50%', '-50%'],\n      easing: 'easeInSine',\n      complete: () => {\n        if (completeCallback) {\n          completeCallback();\n        }\n      }\n    });\n  }\n  onModalClick(event) {\n    const rect = this.dialog.getBoundingClientRect();\n    const isClickOutside = rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;\n    if (!isClickOutside && this.closeOnBackdropClick) {\n      this.dismissModal();\n    }\n  }\n  /**\n   * Show the dialog\n   */\n  async showModal() {\n    setTimeout(() => this.dialog.showModal());\n  }\n  /**\n   * Dismiss the dialog\n   */\n  async dismissModal(reason) {\n    let allowDismiss = true;\n    if (this.beforeDismiss !== undefined) {\n      allowDismiss = await this.beforeDismiss(reason);\n    }\n    if (!allowDismiss) {\n      return;\n    }\n    this.slideOutModal(() => {\n      this.dialog.close(JSON.stringify({\n        type: 'dismiss',\n        reason\n      }, null, 2));\n      this.dialogDismiss.emit(reason);\n    });\n  }\n  /**\n   * Close the dialog\n   */\n  async closeModal(reason) {\n    this.slideOutModal(() => {\n      this.dialog.close(JSON.stringify({\n        type: 'close',\n        reason\n      }, null, 2));\n      this.dialogClose.emit(reason);\n    });\n  }\n  componentDidLoad() {\n    this.slideInModal();\n  }\n  componentWillLoad() {\n    this.ariaAttributes = a11yHostAttributes(this.hostElement);\n  }\n  render() {\n    return h(Host, {\n      class: {\n        'no-backdrop': this.backdrop === false,\n        'align-center': this.centered\n      }\n    }, h(\"div\", {\n      class: \"dialog-backdrop\"\n    }, h(\"dialog\", {\n      \"aria-modal\": a11yBoolean(true),\n      \"aria-describedby\": this.ariaAttributes['aria-describedby'],\n      \"aria-labelledby\": this.ariaAttributes['aria-labelledby'],\n      class: {\n        modal: true,\n        [`modal-size-${this.size}`]: true\n      },\n      onKeyDown: e => {\n        if (e.key === 'Escape' && this.keyboard === false) {\n          e.preventDefault();\n        }\n      },\n      onClick: event => this.onModalClick(event),\n      onCancel: e => {\n        e.preventDefault();\n        this.dismissModal();\n      }\n    }, h(\"slot\", null))));\n  }\n  get hostElement() {\n    return this;\n  }\n  static get style() {\n    return modalCss;\n  }\n}, [1, \"ix-modal\", {\n  \"size\": [1],\n  \"animation\": [4],\n  \"backdrop\": [4],\n  \"closeOnBackdropClick\": [4, \"close-on-backdrop-click\"],\n  \"beforeDismiss\": [16],\n  \"centered\": [4],\n  \"keyboard\": [4],\n  \"showModal\": [64],\n  \"dismissModal\": [64],\n  \"closeModal\": [64]\n}]);\nfunction defineCustomElement$1() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ix-modal\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ix-modal\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Modal);\n        }\n        break;\n    }\n  });\n}\nconst IxModal = Modal;\nconst defineCustomElement = defineCustomElement$1;\nexport { IxModal, defineCustomElement };","map":{"version":3,"names":["modalCss","Modal","proxyCustomElement","HTMLElement","ariaAttributes","dialog","hostElement","shadowRoot","querySelector","slideInModal","duration","animation","Animation","mediumTime","transformY","centered","anime","targets","opacity","translateY","translateX","easing","slideOutModal","completeCallback","complete","onModalClick","event","rect","getBoundingClientRect","isClickOutside","top","clientY","height","left","clientX","width","closeOnBackdropClick","dismissModal","showModal","setTimeout","reason","allowDismiss","beforeDismiss","undefined","close","JSON","stringify","type","dialogDismiss","emit","closeModal","dialogClose","componentDidLoad","componentWillLoad","a11yHostAttributes","render","h","Host","class","backdrop","a11yBoolean","modal","size","onKeyDown","e","key","keyboard","preventDefault","onClick","onCancel"],"sources":["D:\\pci_project_new\\node_modules\\@siemens\\ix\\components\\src\\components\\modal\\modal.scss?tag=ix-modal&encapsulation=shadow","D:\\pci_project_new\\node_modules\\@siemens\\ix\\components\\src\\components\\modal\\modal.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n::backdrop {\n  --ix-dialog-backdrop: var(--theme-color-lightbox, #0000008c);\n}\n\n:focus-visible {\n  outline: none !important;\n}\n\n:host {\n  dialog {\n    margin: 0;\n    left: 50%;\n  }\n\n  dialog::backdrop {\n    backdrop-filter: blur(2.7182817459106445px);\n  }\n\n  .modal {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    border: none;\n    border-radius: var(--theme-default-border-radius);\n    background: var(--theme-modal--background);\n    box-shadow: var(--theme-shadow-4);\n    color: var(--theme-color-std-text);\n    overflow: visible;\n    max-height: 80vh;\n    pointer-events: all;\n  }\n\n  .modal-size-360 {\n    width: 22.5rem;\n  }\n\n  .modal-size-480 {\n    width: 30rem;\n  }\n\n  .modal-size-600 {\n    width: 37.5rem;\n  }\n\n  .modal-size-720 {\n    width: 45rem;\n  }\n\n  .modal-size-840 {\n    width: 52.5rem;\n  }\n\n  .modal-size-full-width {\n    width: 95%;\n  }\n\n  .modal-size-full-screen {\n    left: 0px !important;\n    top: 0px !important;\n    transform: none !important;\n\n    width: calc(100% - 28px);\n    min-width: calc(100% - 28px);\n    max-width: calc(100% - 28px);\n\n    height: calc(100% - 28px);\n    min-height: calc(100% - 28px);\n    max-height: calc(100% - 28px);\n  }\n\n  .dialog-backdrop {\n    display: block;\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    top: 0px;\n    left: 0px;\n\n    pointer-events: none;\n  }\n\n  ::slotted(ix-modal-footer) {\n    margin-top: auto;\n  }\n}\n\n:host(.align-center) {\n  dialog {\n    margin: 0;\n    left: 50%;\n    top: 50%;\n  }\n}\n\n:host(.no-backdrop) {\n  dialog::backdrop {\n    background-color: transparent !important;\n    backdrop-filter: none !important;\n  }\n}\n\n:host(.with-icon) {\n  ::slotted(ix-modal-footer),\n  ::slotted(ix-modal-content) {\n    margin-left: 2.5rem;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Method,\n  Prop,\n} from '@stencil/core';\nimport anime from 'animejs';\nimport { A11yAttributes, a11yBoolean, a11yHostAttributes } from '../utils/a11y';\nimport Animation from '../utils/animation';\n\nexport type IxModalFixedSize = '360' | '480' | '600' | '720' | '840';\nexport type IxModalDynamicSize = 'full-width' | 'full-screen';\nexport type IxModalSize = IxModalFixedSize | IxModalDynamicSize;\n\n@Component({\n  tag: 'ix-modal',\n  styleUrl: 'modal.scss',\n  shadow: true,\n})\nexport class Modal {\n  private ariaAttributes: A11yAttributes = {};\n\n  @Element() hostElement!: HTMLIxModalElement;\n\n  /**\n   * Modal size\n   *\n   * @since 2.0.0\n   */\n  @Prop() size: IxModalSize = '360';\n\n  /**\n   * Should the modal be animated\n   */\n  @Prop() animation = true;\n\n  /**\n   * Show a backdrop behind the modal dialog\n   */\n  @Prop() backdrop = true;\n\n  /**\n   * Dismiss modal on backdrop click\n   *\n   * @since 2.0.0\n   */\n  @Prop() closeOnBackdropClick = false;\n\n  /**\n   * Is called before the modal is dismissed.\n   *\n   * - Return `true` to proceed in dismissing the modal\n   * - Return `false` to abort in dismissing the modal\n   */\n  @Prop() beforeDismiss: (reason?: any) => boolean | Promise<boolean>;\n\n  /**\n   * Centered modal\n   */\n  @Prop() centered = false;\n\n  /**\n   * Use ESC to dismiss the modal\n   */\n  @Prop() keyboard = true;\n\n  /**\n   * Dialog close\n   */\n  @Event() dialogClose: EventEmitter;\n\n  /**\n   * Dialog cancel\n   */\n  @Event() dialogDismiss: EventEmitter;\n\n  get dialog() {\n    return this.hostElement.shadowRoot.querySelector('dialog');\n  }\n\n  private slideInModal() {\n    const duration = this.animation ? Animation.mediumTime : 0;\n\n    let transformY = this.centered ? '-50%' : 40;\n\n    anime({\n      targets: this.dialog,\n      duration,\n      opacity: [0, 1],\n      translateY: [0, transformY],\n      translateX: ['-50%', '-50%'],\n      easing: 'easeOutSine',\n    });\n  }\n\n  private slideOutModal(completeCallback: Function) {\n    const duration = this.animation ? Animation.mediumTime : 0;\n\n    let transformY = this.centered ? '-50%' : 40;\n\n    anime({\n      targets: this.dialog,\n      duration,\n      opacity: [1, 0],\n      translateY: [transformY, 0],\n      translateX: ['-50%', '-50%'],\n      easing: 'easeInSine',\n      complete: () => {\n        if (completeCallback) {\n          completeCallback();\n        }\n      },\n    });\n  }\n\n  private onModalClick(event: MouseEvent) {\n    const rect = this.dialog.getBoundingClientRect();\n    const isClickOutside =\n      rect.top <= event.clientY &&\n      event.clientY <= rect.top + rect.height &&\n      rect.left <= event.clientX &&\n      event.clientX <= rect.left + rect.width;\n    if (!isClickOutside && this.closeOnBackdropClick) {\n      this.dismissModal();\n    }\n  }\n\n  /**\n   * Show the dialog\n   */\n  @Method()\n  async showModal() {\n    setTimeout(() => this.dialog.showModal());\n  }\n\n  /**\n   * Dismiss the dialog\n   */\n  @Method()\n  async dismissModal<T = any>(reason?: T) {\n    let allowDismiss = true;\n\n    if (this.beforeDismiss !== undefined) {\n      allowDismiss = await this.beforeDismiss(reason);\n    }\n    if (!allowDismiss) {\n      return;\n    }\n\n    this.slideOutModal(() => {\n      this.dialog.close(\n        JSON.stringify(\n          {\n            type: 'dismiss',\n            reason,\n          },\n          null,\n          2\n        )\n      );\n\n      this.dialogDismiss.emit(reason);\n    });\n  }\n\n  /**\n   * Close the dialog\n   */\n  @Method()\n  async closeModal<T = any>(reason: T) {\n    this.slideOutModal(() => {\n      this.dialog.close(\n        JSON.stringify(\n          {\n            type: 'close',\n            reason,\n          },\n          null,\n          2\n        )\n      );\n\n      this.dialogClose.emit(reason);\n    });\n  }\n\n  componentDidLoad() {\n    this.slideInModal();\n  }\n\n  componentWillLoad() {\n    this.ariaAttributes = a11yHostAttributes(this.hostElement);\n  }\n\n  render() {\n    return (\n      <Host\n        class={{\n          'no-backdrop': this.backdrop === false,\n          'align-center': this.centered,\n        }}\n      >\n        <div class=\"dialog-backdrop\">\n          <dialog\n            aria-modal={a11yBoolean(true)}\n            aria-describedby={this.ariaAttributes['aria-describedby']}\n            aria-labelledby={this.ariaAttributes['aria-labelledby']}\n            class={{\n              modal: true,\n              [`modal-size-${this.size}`]: true,\n            }}\n            onKeyDown={(e) => {\n              if (e.key === 'Escape' && this.keyboard === false) {\n                e.preventDefault();\n              }\n            }}\n            onClick={(event) => this.onModalClick(event)}\n            onCancel={(e) => {\n              e.preventDefault();\n              this.dismissModal();\n            }}\n          >\n            <slot></slot>\n          </dialog>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}